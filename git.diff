diff --git a/pages/api/convert.js b/pages/api/convert.js
index d8be097..c0f4bb2 100644
--- a/pages/api/convert.js
+++ b/pages/api/convert.js
@@ -9,6 +9,10 @@ export default async function handler(req, res) {
   const removeSubInfo = req.query.removeSubInfo ? true : false;
   const displaySubInfo = req.query.displaySubInfo ? true : false;
   const lang = req.query.lang || "zh-CN";
+  let removeSubInfoFlag = false;
+  if (removeSubInfo === "true" || removeSubInfo === true) {
+    removeSubInfoFlag = true;
+  }
   console.log(`query: ${JSON.stringify(req.query)}`);
   console.log({ "subName": subName, "removeSubInfo": removeSubInfo, "displaySubInfo": displaySubInfo });
   if (url === undefined) {
@@ -17,14 +21,14 @@ export default async function handler(req, res) {
   }
 
   console.log(`Fetching url: ${url}`);
-  let configFile = null;
-  let subscriptionUserInfo = null;
-  let subscriptionUserUpload = null;
-  let subscriptionUserDownload = null;
-  let subscriptionUserTotal = null;
-  let subscriptionUserRemaining = null;
-  let subscriptionUserExpires = null;
-  let subscriptionUserUsed = null;
+  let configFile;
+  let subscriptionUserInfo;
+  let subscriptionUserUpload;
+  let subscriptionUserDownload;
+  let subscriptionUserTotal;
+  let subscriptionUserRemaining;
+  let subscriptionUserExpires;
+  let subscriptionUserUsed;
   try {
     const result = await axios({
       url,
@@ -104,7 +108,7 @@ export default async function handler(req, res) {
 
 
   console.log(`Parsing YAML`);
-  let config = null;
+  let config;
   try {
     config = YAML.parse(configFile);
     console.log(`ğŸ‘Œ Parsed YAML`);
@@ -118,6 +122,40 @@ export default async function handler(req, res) {
     return;
   }
 
+  /**
+   * This function tags the proxy item with subscription info if available.
+   * Afterwards, the convertion script will remove the subscription info from the proxy name if removeSubInfo is passed.
+   * @param {*} proxy - The proxy item to be examined.
+   * @returns {void}
+   */
+  function tagSubinfoProxyItem(proxy) {
+    const expiryNameList = ["Expires", "Expiry", "è¿‡æœŸ", "åˆ°æœŸ", "æœ‰æ•ˆæœŸ", "éæœŸ"];
+    const trafficNameList = ["Traffic", "æµé‡", "æµé‡å‰©ä½™", "å‰©ä½™æµé‡", "å‰©ä½™"];
+    const officialNameList = ["Official", "å®˜æ–¹", "å®˜ç½‘", "å®˜ç¶²"];
+
+    for (let i = 0; i < expiryNameList.length; i++) {
+      if (proxy.name.includes(expiryNameList[i])) {
+        console.log(`Found expiry info from the proxy name: ${proxy.name}`);
+        removeSubInfoFlag = true;
+        continue
+      }
+    }
+    for (let i = 0; i < trafficNameList.length; i++) {
+      if (proxy.name.includes(trafficNameList[i])) {
+        console.log(`Found traffic info from the proxy name: ${proxy.name}`);
+        removeSubInfoFlag = true;
+        continue
+      }
+    }
+    for (let i = 0; i < officialNameList.length; i++) {
+      if (proxy.name.includes(officialNameList[i])) {
+        console.log(`Found official info from the proxy name: ${proxy.name}`);
+        removeSubInfoFlag = true;
+        continue
+      }
+    }
+  }
+
 
 
   if (target === "surge") {
@@ -126,6 +164,15 @@ export default async function handler(req, res) {
     );
     const surgeProxies = supportedProxies.map((proxy) => {
       let common = ``;
+      if (removeSubInfo) {
+        tagSubinfoProxyItem(proxy);
+        // Remove the subscription info proxy item from the proxy list
+        if (removeSubInfoFlag) {
+          console.log(`Removing subscription info from the proxy named: ${proxy.name}`);
+          removeSubInfoFlag = false;
+          return;
+        }
+      }
       if (subName && subName) {
         // console.log(`Subscription name detected, Adding to list.`);
         common = `${proxy.name} - ${subName} = ${proxy.type}, ${proxy.server}, ${proxy.port}`;
@@ -292,32 +339,20 @@ export default async function handler(req, res) {
         }
       }
       //  UDP 
-      if (proxy.udp === true) {
+      if (proxy.udp === true || req.query.udp === true) {
         result = `${result}, udp-relay=true`;
       }
       // TCP Fast Open
-      if (proxy["fast-open"] === true || proxy.tfo === true) {
+      if (proxy["fast-open"] === true || proxy.tfo === true || req.query.tfo === true) {
         result = `${result}, tfo=true`;
       }
       // console.log(`Converted proxy: ${result}`);
-      return result;
+      return result ? result : undefined;
     });
     const proxies = surgeProxies.filter((p) => p !== undefined);
-    // console.log(`Converted ${proxies.length} proxies`);
-    // console.log(`Proxies: ${proxies}`);
-    // Add a dummy item at the beginning showing the subscription info if available
-    // if (subscriptionUserInfo && displaySubInfo) {
-    //   console.log(`Adding subscription info to the list`);
-    //   const dummyItemExpiryDate = `Expires\ï¼š${subscriptionUserExpires} = http, 127.0.0.1, 65535`;
-    //   proxies.unshift(dummyItemExpiryDate);
-    //   const dummyItemRemaining = `Traffic\ï¼š${subscriptionUserUsed}\|${subscriptionUserRemaining} = http, 127.0.0.1,65535`;
-    //   proxies.unshift(dummyItemRemaining);
-    // }
-    // Remove subscription info from the list if detected
-    if (removeSubInfo) {
-      console.log(`Removing subscription info from the list`);
-      proxies.shift();
-      proxies.shift();
+    if (proxies.length === 0) {
+      res.status(400).send("No supported proxies in this config");
+      return;
     }
     res.setHeader('Content-Type', 'text/plain; charset=utf-8');
     // res.setHeader('subscription-userinfo', `${subscriptionUserInfo}`);
diff --git a/pages/index.js b/pages/index.js
index 7472f5d..192e6ed 100644
--- a/pages/index.js
+++ b/pages/index.js
@@ -74,7 +74,22 @@ export default function Home() {
     return `${host}/api/subinfo?${params.toString()}`;
   }, [host, url, subName]);
 
-  const subInfoSgModuleUrl = subInfoUrl + "&format=.sgmodule";
+  const subInfoSgModuleUrl = useMemo(() => {
+    if (!host || !url.trim()) {
+      return "";
+    }
+
+    const params = new URLSearchParams();
+    params.append("url", url);
+
+    if (enableSubName) {
+      if (subName.trim()) {
+        params.append("subName", subName);
+      }
+    }
+
+    return `${host}/api/subinfo.sgmodule?${params.toString()}`;
+  }, [host, url, subName]);
 
   const urlHost = useMemo(() => {
     if (!url.trim()) return ""; // å¦‚æœ url ä¸ºç©ºæˆ–åªæœ‰ç©ºæ ¼ï¼Œè¿”å›ç©º
@@ -95,7 +110,7 @@ export default function Home() {
     return `  - name: UseProvider
     type: select
     use:
-      - ${urlHost || "provider1"} 
+      - ${subName || urlHost || "provider1"} 
     proxies:
       - Proxy
       - DIRECT
@@ -106,11 +121,11 @@ export default function Home() {
 
   const clashConfigProxyProvider = useMemo(() => {
     if (!url.trim() || !convertedUrl) return "";
-    return `  ${urlHost || "provider1"}: 
+    return `  ${subName || urlHost || "provider1"}: 
     type: http
     url: ${convertedUrl} 
     interval: 3600
-    path: ./${urlHost || "provider1"}.yaml
+    path: ./${subName || urlHost || "provider1"}.yaml
     health-check:
       enable: true
       interval: 600
@@ -130,7 +145,7 @@ ${subName || urlHost} = select, policy-path=${convertedUrl}
 
   const surgeSubInfoPanelPanel = useMemo(() => {
     if (!url.trim() || !subInfoUrl) return "";
-    return `${subName || urlHost}-SubInfo = script-name=${subName || urlHost}-SubInfo, title="${urlHost} è®¢é˜…ä¿¡æ¯", update-interval=43200`
+    return `${subName || urlHost}-SubInfo = script-name=${subName || urlHost}-SubInfo, title="${subName || urlHost} è®¢é˜…ä¿¡æ¯", update-interval=43200`
   }, [url, subInfoUrl, urlHost, subName]);
 
 
@@ -143,7 +158,7 @@ ${subName || urlHost} = select, policy-path=${convertedUrl}
       timeout: 15,
       scriptPath: "https://raw.githubusercontent.com/getsomecat/GetSomeCats/Surge/modules/Panel/Sub-info/Moore/Sub-info.js",
       scriptUpdateInterval: 0,
-      argumentString: `url=${subInfoUrl}&reset_day=1&title=${subName || urlHost}&icon=externaldrive.fill.badge.icloud=#007aff`
+      argumentString: `url=${url}&title=${subName || urlHost}&icon=externaldrive.fill.badge.icloud=#007aff`
     });
   }, [url, subInfoUrl, urlHost, subName]);
 
diff --git a/wiki/Upstream-Sync.en-US.md b/wiki/Upstream-Sync.en-US.md
index 226cfb9..80683fd 100644
--- a/wiki/Upstream-Sync.en-US.md
+++ b/wiki/Upstream-Sync.en-US.md
@@ -1,6 +1,6 @@
 # Enable auto sync with upstream
 > [!NOTE]
-> - You need to generate a GitHub Token and set it in the project settings under Secrets with the name `PAT_FOR_SYNC`, otherwise automatic updates will not work.
+> - Users are required to generate a PAT(Personal access token) with `Actions`, `Commit statuses`, `Contents`, `Pull requests` and `Workflows` permissions and set it in the project settings under Secrets with the name `PAT_FOR_SYNC`, otherwise automatic updates will not work.
 > - If you encounter errors while executing Upstream Sync, try running it manually again.
 
 ## Upstream Sync Automatic Updates
diff --git a/wiki/Upstream-Sync.zh-CN.md b/wiki/Upstream-Sync.zh-CN.md
index a50dc7a..e8cb781 100644
--- a/wiki/Upstream-Sync.zh-CN.md
+++ b/wiki/Upstream-Sync.zh-CN.md
@@ -1,6 +1,6 @@
 # å¯åŠ¨è‡ªåŠ¨æ›´æ–°
 > [!NOTE]
-> - ä½ éœ€è¦è‡ªå·±ç”Ÿæˆ GitHub Tokenï¼Œå¹¶å°†å…¶åœ¨é¡¹ç›®è®¾ç½®ä¸­ Secretsï¼Œåç§°ä¸º `PAT_FOR_SYNC`ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œè‡ªåŠ¨æ›´æ–°ã€‚
+> - ç”¨æˆ·éœ€è¦ç”Ÿæˆä¸€ä¸ªå…·æœ‰ `Actions`ã€`Commit statuses`ã€`Contents`ã€`Pull requests` å’Œ `Workflows` æƒé™çš„ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆPATï¼‰ï¼Œå¹¶åœ¨é¡¹ç›®è®¾ç½®ä¸­çš„ Secrets ä¸­è®¾ç½®åç§°ä¸º `PAT_FOR_SYNC`ï¼Œå¦åˆ™è‡ªåŠ¨æ›´æ–°å°†æ— æ³•å·¥ä½œã€‚
 > - å¦‚æœä½ åœ¨æ‰§è¡Œ Upstream Sync æ—¶é‡åˆ°é”™è¯¯ï¼Œè¯·å°è¯•æ‰‹åŠ¨æ‰§å†è¡Œä¸€æ¬¡
 
 ## Upstream Sync è‡ªåŠ¨æ›´æ–°
